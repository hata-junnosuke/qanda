# アプリ作成メモ
## 下準備
- rails new
- bin/rails db:create
- slimに変更
- bootstrap
- エラーメッセージの日本語
    - https://raw.githubusercontent.com/svenfuchs/rails-i18n/master/rails/locale/ja.ymlからコピーした。

## 12/11
##質問投稿機能作成
### モデル作成
- Questionを作成
-  bin/rails g model Question title:string body:text resolved_status:boolean
### コントローラ
- クエスチョンコントローラ作成（index,show,new,edit）
- ルーティング作成（resources :questions）
- root to: 'questions#index'
### ビュー
- 質問一覧から。とりあえず、全てを表示しよう。あとで未解決などの振り分け。
- コントローラ作成時に同時に作成されている。
### 質問を投稿できるようにする（現場にそって）
- 新規投稿のためのアクションを実装(newアクション)
- 新規投稿の画面を実装（form-with）
- 投稿のアクション（createアクション、ストロングパロメータ）
- flashが表示されるように、application.htmlを修正
### 質問一覧表示機能
- indexアクション記述
- each文で一覧に表示
### 詳細表示
- showアクション（params[:id]で引っ張る）
- ビューの作成
### 編集機能
- 編集ボタンの作成
- editとupdateアクションの追加
- パーシャルでフォームをまとめた
### 削除機能
- 削除ボタンの作成
- destroyアクションの追加


## 12/12
## ユーザー機能作成
- userモデル作成
- パスワードダイジェスト
- アドミン
- current_userの定義
- ログイン、ログアウト
- before_actionで制限
- データベースの紐付け（クエスチョンとユーザー）マイグレーションとモデルで
- コントローラcurrent_userで探すようにする
- 管理者機能をつける。

## 一般ユーザーの登録機能を作成
- usersコントローラ作成
- adminとの兼ね合いを修正

## questionのバリデーション追加
- titleとbodyにpresence: true

## バグの修正
- 質問をユーザーと結びつけられていなかったので、コントローラの修正（createアクション）
- questionの編集を投稿者のみできるようにした。（コントローラの修正）
- 質問投稿者のみ編集削除ボタンが表示される。
- ユーザーの新規登録後に再度ログインしなくてはならないバグ修正（session[:user_id] = @user.id）

### TODO（12・13・2037）
- アンサー全般
- 検索機能
- ページネーション
- 要件
　ユーザーはニックネームとアバター画像を登録できる
  ユーザーは質問に対して回答ができる
  ユーザーは質問を解決済み状態に変更できる
  ユーザーは質問を検索できる
  質問があった際に全員に対して質問があった旨をメールで通知する（ただし自分は除く）
  質問に対して回答があった場合は質問者および当該質問に回答したユーザーに対してメールで通知する。（ただし自分は除く）
  質問はページングできる
  管理画面がある
  管理画面へは権限を付与されたユーザーしか入れない
  管理画面では全てのリソースを削除できる


